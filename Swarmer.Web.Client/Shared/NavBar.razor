@using Swarmer.Web.Client.Services
@inject NavigationManager NavigationManager
@* ReSharper disable once InconsistentNaming *@
@inject DarkModeManager DMM

<nav class="px-2 sm:px-4 py-2.5 dark:bg-black border-b-2 border-sky-500 dark:border-sky-700">
	<div class="container flex flex-wrap justify-between items-center content-center mx-auto lg:pl-15 md:pl-0">
		<a href="" class="flex items-center">
			<img src="Assets/Swarmer.svg" class="dark:invert mr-4 h-9 sm:h-9" alt="Flowbite Logo"/>
			<span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Swarmer</span>
		</a>
		<button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 active:bg-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:active:bg-gray-800">
			<span class="sr-only">Open main menu</span>
			<svg class="w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
			</svg>
		</button>

		<div class="hidden w-full md:block md:w-auto content-center" id="navbar-default">
			<ul class="flex flex-col p-4 mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-black md:dark:bg-black dark:border-gray-700">
				<li class="flex items-center">
					<NavLink Match="NavLinkMatch.All" href="" class="nav-item">Home</NavLink>
				</li>
				<li class="flex items-center">
					<NavLink href="counter" class="nav-item">Counter</NavLink>
				</li>
				<li class="flex items-center">
					<NavLink href="swagger" class="nav-item">API</NavLink>
				</li>
				<li class="flex items-center">
					<NavLink href="faq" class="nav-item">FAQ</NavLink>
				</li>
				<li class="flex items-center">
					<NavLink class="flex flex-row nav-item" href="https://donorbox.org/dd-bots" target="_blank">
						<img alt="donorbox logo" class="backdrop-invert-0 dark:backdrop-invert-0" src="https://donorbox.org/images/red_logo.png">
						<span class="ml-2">Donate</span>
					</NavLink>
				</li>

				<li class="hidden md:block flex items-center">
					<div class="w-px h-full bg-gray-400 dark:bg-gray-500"></div>
				</li>

				<li class="flex items-center">
					<button @onclick="Toggle" id="theme-toggle" type="button" class="rounded p-2 block text-white bg-gray-800">
						@if (DMM.DarkMode)
						{
							<!--Sun-->
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
								<path d="M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z"/>
							</svg>
						}
						else
						{
							<!--Moon-->
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 -scale-x-100">
								<path fill-rule="evenodd" d="M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z" clip-rule="evenodd"/>
							</svg>
						}
					</button>
				</li>
			</ul>
		</div>
	</div>
</nav>

@code
{
	[Parameter]
	public EventCallback OnDarkModeToggled { get; set; }

	private void Toggle()
	{
		DMM.ToggleDarkMode();
		OnDarkModeToggled.InvokeAsync(DMM.DarkMode);
	}
}
